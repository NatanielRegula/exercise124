{"mappings":"ACAA,IAAI,EAAgD,EAAE,CAEtD,SAAS,IACP,SAAS,eAAe,CAAC,KAAK,CAAC,cAAc,CAAG,aAClD,CAEA,SAAS,IACP,SAAS,eAAe,CAAC,KAAK,CAAC,cAAc,CAAG,OAClD,CAuFA,SAAS,IACP,IAAM,EAAkB,EAAsB,MAAM,CAAG,EAEvD,GAAI,OAAO,UAAU,EAAI,IAAK,EAC5B,AAdJ,WACE,IAAK,IAAM,KAAgC,EACzC,EAA6B,UAAU,GAGzC,EAAwB,EAAE,CAE1B,GACF,IAOI,MACF,CAEI,GAEJ,AApCF,WACE,IAAM,EAA4B,SAAS,aAAa,CAAC,kBAEzD,GAAI,AAA8B,OAA9B,EAAoC,OAExC,IAAM,EAAmB,EAA0B,QAAQ,CAErD,EAAuB,CAAgB,CAAC,EAAE,CAEhD,EAAsB,IAAI,CAAC,AApE7B,SAA6B,CAAe,EAK1C,IAAI,EAAa,CAAA,EAEX,EAA+B,IAAI,qBAAqB,AAAC,IAC7D,GAAI,EAAY,CACd,IACA,EAAa,CAAA,EACb,MACF,CAEA,IAAM,EAAc,CAAM,CAAC,EAAE,CAEvB,EAAoB,EAAY,kBAAkB,CAAC,GAAG,CAAG,EAE/D,IAEK,EAAY,cAAc,EAAK,GAClC,GAEJ,EAtBoC,CAClC,UAAW,EACb,GAwBA,OAFA,EAA6B,OAAO,CAAC,GAE9B,CACT,EAwCiD,IAE/C,IAAM,EAAsB,CAAgB,CAAC,EAAiB,MAAM,CAAG,EAAE,CAEzE,EAAsB,IAAI,CAAC,AA1C7B,SAA4B,CAAe,EAKzC,IAAI,EAAa,CAAA,EAEX,EAA+B,IAAI,qBAAqB,AAAC,IAC7D,GAAI,EAAY,CACd,IACA,EAAa,CAAA,EACb,MACF,CACA,IAAM,EAAc,CAAM,CAAC,EAAE,CAEvB,EAAoB,EAAY,kBAAkB,CAAC,GAAG,CAAG,EAE/D,IAEI,CAAC,EAAY,cAAc,EAAI,GACjC,GAEJ,EArBoC,CAClC,UAAW,EACb,GAuBA,OAFA,EAA6B,OAAO,CAAC,GAE9B,CACT,EAegD,GAChD,GAuBA,CAcA,SAAS,gBAAgB,CAAC,mBAZnB,eAGD,EAFJ,IAIA,OAAO,gBAAgB,CAAC,SAAU,KAC5B,IAAyB,OAAO,UAAU,GAC9C,EAAuB,OAAO,UAAU,CACxC,IACF,EACF","sources":["<anon>","src/ts/main.ts"],"sourcesContent":["let $e366f2c43bf887ab$var$intersectionObservers = [];\nfunction $e366f2c43bf887ab$var$activateSnapping() {\n    document.documentElement.style.scrollSnapType = \"y mandatory\";\n}\nfunction $e366f2c43bf887ab$var$deactivateSnapping() {\n    document.documentElement.style.scrollSnapType = \"unset\";\n}\nfunction $e366f2c43bf887ab$var$observeFirstSection(target) {\n    const intersectionObserverOptions = {\n        threshold: 0.8\n    };\n    let firstEvent = true;\n    const intersectionObserverObserver = new IntersectionObserver((events)=>{\n        if (firstEvent) {\n            $e366f2c43bf887ab$var$deactivateSnapping();\n            firstEvent = false;\n            return;\n        }\n        const latestEvent = events[0];\n        const scrolledInFromTop = latestEvent.boundingClientRect.top > 0;\n        $e366f2c43bf887ab$var$deactivateSnapping();\n        if (!latestEvent.isIntersecting && !scrolledInFromTop) $e366f2c43bf887ab$var$activateSnapping();\n    }, intersectionObserverOptions);\n    intersectionObserverObserver.observe(target);\n    return intersectionObserverObserver;\n}\nfunction $e366f2c43bf887ab$var$observeLastSection(target) {\n    const intersectionObserverOptions = {\n        threshold: 0.8\n    };\n    let firstEvent = true;\n    const intersectionObserverObserver = new IntersectionObserver((events)=>{\n        if (firstEvent) {\n            $e366f2c43bf887ab$var$deactivateSnapping();\n            firstEvent = false;\n            return;\n        }\n        const latestEvent = events[0];\n        const scrolledInFromTop = latestEvent.boundingClientRect.top > 0;\n        $e366f2c43bf887ab$var$deactivateSnapping();\n        if (!latestEvent.isIntersecting && scrolledInFromTop) $e366f2c43bf887ab$var$activateSnapping();\n    }, intersectionObserverOptions);\n    intersectionObserverObserver.observe(target);\n    return intersectionObserverObserver;\n}\nfunction $e366f2c43bf887ab$var$activateSnapper() {\n    const snappingSectionsContainer = document.querySelector(\"[data-snapper]\");\n    if (snappingSectionsContainer === null) return;\n    const snappingSections = snappingSectionsContainer.children;\n    const firstSnappingSection = snappingSections[0];\n    $e366f2c43bf887ab$var$intersectionObservers.push($e366f2c43bf887ab$var$observeFirstSection(firstSnappingSection));\n    const lastSnappingSection = snappingSections[snappingSections.length - 1];\n    $e366f2c43bf887ab$var$intersectionObservers.push($e366f2c43bf887ab$var$observeLastSection(lastSnappingSection));\n}\nfunction $e366f2c43bf887ab$var$disposeSnapper() {\n    for (const intersectionObserverObserver of $e366f2c43bf887ab$var$intersectionObservers)intersectionObserverObserver.disconnect();\n    $e366f2c43bf887ab$var$intersectionObservers = [];\n    $e366f2c43bf887ab$var$deactivateSnapping();\n}\nfunction $e366f2c43bf887ab$var$onWidthChangeHandler() {\n    const snapperIsActive = $e366f2c43bf887ab$var$intersectionObservers.length > 0;\n    if (window.innerWidth <= 768) {\n        $e366f2c43bf887ab$var$disposeSnapper();\n        return;\n    }\n    if (snapperIsActive) return;\n    $e366f2c43bf887ab$var$activateSnapper();\n}\nfunction $e366f2c43bf887ab$export$f22da7240b7add18() {\n    $e366f2c43bf887ab$var$onWidthChangeHandler();\n    let lastWindowInnerWidth;\n    window.addEventListener(\"resize\", ()=>{\n        if (lastWindowInnerWidth === window.innerWidth) return;\n        lastWindowInnerWidth = window.innerWidth;\n        $e366f2c43bf887ab$var$onWidthChangeHandler();\n    });\n}\ndocument.addEventListener(\"DOMContentLoaded\", $e366f2c43bf887ab$export$f22da7240b7add18);\n\n\n//# sourceMappingURL=index.793441e7.js.map\n","let intersectionObservers: IntersectionObserver[] = [];\n\nfunction activateSnapping() {\n  document.documentElement.style.scrollSnapType = 'y mandatory';\n}\n\nfunction deactivateSnapping() {\n  document.documentElement.style.scrollSnapType = 'unset';\n}\n\nfunction observeFirstSection(target: Element) {\n  const intersectionObserverOptions = {\n    threshold: 0.8,\n  };\n\n  let firstEvent = true;\n\n  const intersectionObserverObserver = new IntersectionObserver((events) => {\n    if (firstEvent) {\n      deactivateSnapping();\n      firstEvent = false;\n      return;\n    }\n\n    const latestEvent = events[0];\n\n    const scrolledInFromTop = latestEvent.boundingClientRect.top > 0;\n\n    deactivateSnapping();\n\n    if (!latestEvent.isIntersecting && !scrolledInFromTop) {\n      activateSnapping();\n    }\n  }, intersectionObserverOptions);\n\n  intersectionObserverObserver.observe(target);\n\n  return intersectionObserverObserver;\n}\n\nfunction observeLastSection(target: Element) {\n  const intersectionObserverOptions = {\n    threshold: 0.8,\n  };\n\n  let firstEvent = true;\n\n  const intersectionObserverObserver = new IntersectionObserver((events) => {\n    if (firstEvent) {\n      deactivateSnapping();\n      firstEvent = false;\n      return;\n    }\n    const latestEvent = events[0];\n\n    const scrolledInFromTop = latestEvent.boundingClientRect.top > 0;\n\n    deactivateSnapping();\n\n    if (!latestEvent.isIntersecting && scrolledInFromTop) {\n      activateSnapping();\n    }\n  }, intersectionObserverOptions);\n\n  intersectionObserverObserver.observe(target);\n\n  return intersectionObserverObserver;\n}\n\nfunction activateSnapper() {\n  const snappingSectionsContainer = document.querySelector('[data-snapper]');\n\n  if (snappingSectionsContainer === null) return;\n\n  const snappingSections = snappingSectionsContainer.children;\n\n  const firstSnappingSection = snappingSections[0];\n\n  intersectionObservers.push(observeFirstSection(firstSnappingSection));\n\n  const lastSnappingSection = snappingSections[snappingSections.length - 1];\n\n  intersectionObservers.push(observeLastSection(lastSnappingSection));\n}\n\nfunction disposeSnapper() {\n  for (const intersectionObserverObserver of intersectionObservers) {\n    intersectionObserverObserver.disconnect();\n  }\n\n  intersectionObservers = [];\n\n  deactivateSnapping();\n}\n\nfunction onWidthChangeHandler() {\n  const snapperIsActive = intersectionObservers.length > 0;\n\n  if (window.innerWidth <= 768) {\n    disposeSnapper();\n    return;\n  }\n\n  if (snapperIsActive) return;\n\n  activateSnapper();\n}\n\nexport function main(): void {\n  onWidthChangeHandler();\n\n  let lastWindowInnerWidth: number | undefined;\n\n  window.addEventListener('resize', () => {\n    if (lastWindowInnerWidth === window.innerWidth) return;\n    lastWindowInnerWidth = window.innerWidth;\n    onWidthChangeHandler();\n  });\n}\n\ndocument.addEventListener('DOMContentLoaded', main);\n"],"names":["$e366f2c43bf887ab$var$intersectionObservers","$e366f2c43bf887ab$var$activateSnapping","document","documentElement","style","scrollSnapType","$e366f2c43bf887ab$var$deactivateSnapping","$e366f2c43bf887ab$var$onWidthChangeHandler","snapperIsActive","length","window","innerWidth","$e366f2c43bf887ab$var$disposeSnapper","intersectionObserverObserver","disconnect","$e366f2c43bf887ab$var$activateSnapper","snappingSectionsContainer","querySelector","snappingSections","children","firstSnappingSection","push","$e366f2c43bf887ab$var$observeFirstSection","target","firstEvent","IntersectionObserver","events","latestEvent","scrolledInFromTop","boundingClientRect","top","isIntersecting","threshold","observe","lastSnappingSection","$e366f2c43bf887ab$var$observeLastSection","addEventListener","lastWindowInnerWidth"],"version":3,"file":"index.793441e7.js.map"}